<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Learnify | Payment</title>

    <!-- SEO & Social -->
    <meta name="description" content="Learnify offers world-class Full Stack Web Development and engineering courses with 30% off on your first enroll." />
    <meta name="keywords" content="Learnify, online courses, engineering skills, web development, full stack, mentors, coding bootcamp, scholarships" />
    <meta name="author" content="Learnify Team" />
    <meta property="og:title" content="Learnify | Advance Your Engineering Skills" />
    <meta property="og:description" content="Build skills with our courses and mentors from world-class companies. Get 30% off on your first enroll!" />
    <meta property="og:image" content="https://yourdomain.com/asset/imgBnner.png" />
    <meta property="og:url" content="https://yourdomain.com" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Learnify | Advance Your Engineering Skills" />
    <meta name="twitter:description" content="Learnify offers world-class Full Stack Web Development and engineering courses with 30% off on your first enroll." />
    <meta name="twitter:image" content="https://yourdomain.com/asset/imgBnner.png" />

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet' />
     <!-- Favicon -->
     <link rel="icon" type="image/png" href="../asset/logo.png" />

    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./dist/output.css" />
    <link rel="stylesheet" href="./src/localStyle.css" />
    <script src="../src/js/animation.js" defer></script>

    <style>
      .dark .notification-bar {
        background-color: #1f2937;
        color: #d1d5db;
      }

      .dark .tab-btn {
        border-color: #4f46e5;
      }
    </style>
  </head>

  <body class="bg-white text-gray-800 dark:bg-gray-900 dark:text-white transition-colors duration-300 font-sans">
 

    <!-- Notification Bar -->
    <div class="notification-bar text-sm text-gray-700 dark:text-gray-300 flex items-center justify-center py-2 px-4 border-b border-blue-100 dark:border-blue-800 bg-gray-50 dark:bg-gray-800">
      <div class="flex items-center gap-2 max-w-6xl w-full justify-center">
        <span class="text-blue-500 animate-pulse"><i class="bx bx-bullhorn"></i></span>
        <span class="text-center font-medium">ðŸŽ“ Scholarship Alert: Full Stack Web Development 50% Off - Limited Time Offer!</span>
        <button class="ml-4 text-blue-500 hover:text-blue-700 transition-colors"><i class="bx bx-x"></i></button>
      </div>
    </div>

    <!-- Navbar -->
    <section>
      <div id="app-navbar"></div>
      <div id="modalContainer"></div>
    </section>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto p-6 rounded-lg grid md:grid-cols-3 gap-8 container">
      <!-- Checkout Form -->
      <section class="md:col-span-2">
        <h2 class="text-xl font-semibold mb-4">Checkout</h2>

        <label class="block text-sm font-medium">Country</label>
        <select class="w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-white rounded px-3 py-2 mt-1 mb-2 text-sm focus:outline-blue-500">
          <option>Cambodia</option>
          <option>USA</option>
          <option>UK</option>
        </select>
        <small class="text-slate-500 block mb-4 dark:text-slate-300">* taxes may apply depending on country</small>

        <div class="bg-white p-6 rounded-lg shadow dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700" style="height: 550px;">
          <h3 class="text-lg font-semibold mb-4">Payment Details</h3>

          <div class="flex gap-4 text-sm font-medium mb-4" id="tabs">
            <button data-tab="credit" class="tab-btn text-slate-600 dark:text-white border-blue-600 border-b-2 hover:text-blue-600 pb-1">Credit card</button>
            <button data-tab="paypal" class="tab-btn text-slate-600 dark:text-white hover:text-blue-600 border-b-2 pb-1">Paypal</button>
            <button data-tab="qr" class="tab-btn text-slate-600 dark:text-white hover:text-blue-600 border-b-2 pb-1">QR</button>
          </div>

          <div class="tab-content pb-5">
            <!-- Credit Card Tab -->
            <div id="tab-credit" class="tab-pane block">
              <div class="grid sm:grid-cols-[1fr_2fr] grid-cols-1 gap-4 mb-6">
                <div class="flex sm:flex-col gap-5 mb-4">
                  <div><img src="../asset/cardvisa2.png" alt=""></div>
                  <div><img src="../asset/cardvisa.png" alt="" class="w-full max-w-xs" /></div>
                  <div class="hidden sm:flex m-auto cursor-pointer text-blue-600 hover:text-blue-700">
                    <input id="fileUpload" type="file" accept="image/*" class="hidden" />
                    <label id="addCardLabel" for="fileUpload" class="flex items-center cursor-pointer text-blue-600 hover:text-blue-700 select-none">
                      Add New Card
                      <img src="../asset/sumicon.png" alt="" class="ml-2 w-5" />
                    </label>
                  </div>
                </div>

                <div>
                  <p>Pay using credit card</p>
                  <p id="error-msg" class="hidden text-red-600 text-sm mb-3">Please fill in every credit-card field.</p>

                  <form id="payment-form" class="space-y-5">
                    <div>
                      <label for="cc-number" class="block text-sm">Credit Card Number</label>
                      <input id="cc-number" maxlength="19" class="cc-input w-full border-0 border-b-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:outline-none py-2 placeholder-gray-400 dark:placeholder-gray-500 text-sm text-gray-800 dark:text-white bg-transparent" type="text" placeholder="1234 1234 1234 1234" />
                    </div>

                    <div>
                      <label for="cc-name" class="block text-sm">Name</label>
                      <input id="cc-name" class="cc-input w-full border-0 border-b-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:outline-none py-2 placeholder-gray-400 dark:placeholder-gray-500 text-sm text-gray-800 dark:text-white bg-transparent" type="text" placeholder="Name" />
                    </div>

                    <div class="flex gap-4">
                      <div class="w-1/2">
                        <label for="cc-exp" class="block text-sm">Expiration Date</label>
                        <input id="cc-exp" class="cc-input w-full border-0 border-b-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:outline-none py-2 placeholder-gray-400 dark:placeholder-gray-500 text-sm text-gray-800 dark:text-white bg-transparent" type="text" placeholder="MM/YY" />
                      </div>
                      <div class="w-1/2">
                        <label for="cc-cvv" class="block text-sm">CVV</label>
                        <input id="cc-cvv" maxlength="3" class="cc-input w-full border-0 border-b-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:outline-none py-2 placeholder-gray-400 dark:placeholder-gray-500 text-sm text-gray-800 dark:text-white bg-transparent" type="password" placeholder="123" />
                      </div>
                    </div>

                    <div class="flex justify-between items-center">
                      <label class="inline-flex items-center text-sm">
                        <input id="save-card" type="checkbox" class="mr-2" /> Save card
                      </label>
                      <button type="submit" id="pay-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-semibold flex items-center gap-2">
                        Pay <span class="material-icons text-base">shopping_cart_checkout</span>
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>

            <!-- QR Tab -->
            <div class="tab-pane hidden" id="tab-qr" role="tabpanel" style="height: 300px;">
              <p>Pay using QR code</p>
              <div class="flex justify-center mt-4">
                <img src="../asset/qr.jpg" alt="QR Code" class="w-32 h-32" style="width: 200px; height: 200px;" />
              </div>
              <p class="text-center text-sm">Scan the QR code to complete your payment.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Order Summary -->
      <aside>
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow text-gray-800 dark:text-white" id="orderDetails">
          <h2 class="text-lg font-semibold mb-4">Order Details</h2>
          <div id="order-container" class="space-y-4"></div>
          <div class="border-t pt-4 text-sm font-semibold">
            Total <span class="float-right" id="total-price">$0.00</span>
          </div>
        </div>
      </aside>
    </main>

    <!-- Loader -->
    <div id="loader-overlay" class="hidden fixed inset-0 z-50 items-center justify-center bg-black/40">
      <svg class="animate-spin h-12 w-12 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4">
        <circle class="opacity-25" cx="12" cy="12" r="10"></circle>
        <path class="opacity-75" d="M4 12a8 8 0 018-8"></path>
      </svg>
    </div>

    <!-- Footer -->
    <div id="app-footer"></div>

    <!-- Scripts -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const courseData = JSON.parse(localStorage.getItem("selectedCourse"));
        const container = document.getElementById("order-container");
        const totalPrice = document.getElementById("total-price");

        if (!courseData) {
          container.innerHTML = "<p class='text-red-500'>No course selected.</p>";
          return;
        }

        container.innerHTML = `
          <div class="flex gap-3">
            <img src="${courseData.image}" class="w-20 h-14 object-cover rounded" />
            <div class="flex-1 text-sm text-gray-800 dark:text-white">
              <h4 class="font-semibold">${courseData.title}</h4>
              <div class="text-yellow-500 text-xs">â˜…â˜…â˜…â˜…â˜… ${courseData.reviews}</div>
              <div class="mt-1">
                ${courseData.price}
                <span class="line-through text-xs text-slate-400 ml-2">${courseData.originalPrice}</span>
              </div>
            </div>
          </div>
        `;
        totalPrice.innerText = courseData.price;
      });

      // Dark mode toggle
      document.getElementById('toggleDark').addEventListener('click', () => {
        document.documentElement.classList.toggle('dark');
      });
    </script>

    <!-- Modules -->
    <script type="module" src="../component/navbar.js"></script>
    <script type="module" src="../component/footerComponent.js"></script>
    <script src="../src/js/tabpayment.js"></script>
    <script src="../src/js/payment.js"></script>
  </body>
</html>
